graph TB
    subgraph Actors
        Borrower[ğŸ¦ Borrower]
        Admin[ğŸ‘¤ Loan Officer/Admin]
        MPesa[âš™ï¸ M-Pesa System]
    end
    
    subgraph "Borrower Use Cases"
        UC1[ğŸ“ Register Account]
        UC2[ğŸ“‹ Complete KYC]
        UC3[ğŸ’° Apply for Loan]
        UC4[ğŸ“„ Upload Documents]
        UC5[ğŸ“Š Track Application]
        UC6[ğŸ’³ Repay Loan]
        UC7[ğŸ“ˆ View History]
        UC8[ğŸ‘¤ Update Profile]
    end
    
    subgraph "Admin Use Cases"
        UC9[ğŸ” Review Applications]
        UC10[âœ… Approve/Reject Loan]
        UC11[ğŸ‘¥ Manage Users]
        UC12[ğŸ“Š Generate Reports]
        UC13[âš™ï¸ Configure Settings]
        UC14[ğŸ› ï¸ Handle Disputes]
    end
    
    subgraph "System Use Cases"
        UC15[ğŸ’¸ Process M-Pesa Payment]
        UC16[ğŸ“§ Send Notifications]
        UC17[ğŸ§® Calculate Interest]
    end
    
    %% Actor to Use Case connections
    Borrower --> UC1
    Borrower --> UC2
    Borrower --> UC3
    Borrower --> UC4
    Borrower --> UC5
    Borrower --> UC6
    Borrower --> UC7
    Borrower --> UC8
    
    Admin --> UC9
    Admin --> UC10
    Admin --> UC11
    Admin --> UC12
    Admin --> UC13
    Admin --> UC14
    
    MPesa --> UC15
    MPesa --> UC16
    MPesa --> UC17
    
    %% Include relationships
    UC3 -.->|includes| UC4
    UC9 -.->|includes| UC2
    UC6 -.->|includes| UC15
    UC10 -.->|includes| UC17
    
    %% Extend relationships
    UC5 -.->|extends| UC9
    UC14 -.->|extends| UC12
    
    %% Generalization relationships
    UC11 -.->|generalizes| UserManagement[User Management Activities]
    UC12 -.->|generalizes| ReportTypes[Different Report Types]
    
    %% Additional connections
    UC16 --> Borrower
    UC16 --> Admin
    UC17 --> Borrower
    UC17 --> Admin